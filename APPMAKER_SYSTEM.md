# 🚀 AppMaker System - Complete Documentation

## Overview

AppMaker is a comprehensive iOS/macOS app generation system based on proven patterns from ViceChips and Prompt projects. It automates the creation of production-ready SwiftUI apps with modern architecture, testing, and CI/CD.

## 🎯 Core Philosophy

1. **Convention over Configuration** - Smart defaults that work
2. **Production-Ready** - Every app starts with CI/CD, testing, and quality tools
3. **Modern Architecture** - Swift 6, SwiftUI, SwiftData, CloudKit
4. **Modular Design** - Package-based architecture for scalability
5. **AI-Friendly** - CLAUDE.md included for AI pair programming

## 🛠 System Components

### 1. AppMaker CLI (`appmaker`)
The main command-line tool for creating and managing apps.

```bash
# Create a new app
appmaker new MyApp

# Create with specific features
appmaker new MyApp --features=cloudkit,ai,widgets

# Use a specific template
appmaker new MyApp --template=prompt-style
```

### 2. Configuration System (`appmaker.config.yaml`)
Declarative configuration for app features and structure.

```yaml
app:
  name: MyApp
  platforms: [ios, macos]
  
features:
  swiftdata: true
  cloudkit: true
  ai_integration: true
  widgets: false
  
architecture:
  pattern: "mv"  # Model-View architecture
  reactive_system: true
```

### 3. Template System
- **Base Template**: Common files for all apps
- **Feature Templates**: CloudKit, AI, Widgets, etc.
- **Style Templates**: ViceChips-style, Prompt-style, custom

### 4. Generated Project Structure
```
MyApp/
├── MyApp.xcodeproj          # Generated by XcodeGen
├── MyApp/                   # App UI layer
│   ├── MyAppApp.swift       # App entry point
│   ├── Views/               # SwiftUI views
│   └── Assets.xcassets      # Images and colors
├── Packages/MyAppKit/       # Core business logic
│   ├── Package.swift        # SPM manifest
│   ├── Sources/
│   │   ├── MyAppKit/        # Public API
│   │   ├── MyAppFoundation/ # Models
│   │   ├── MyAppStore/      # Persistence
│   │   └── MyAppServices/   # Business logic
│   └── Tests/
├── Tests/                   # App-level tests
├── Makefile                 # Build automation
├── project.yml              # XcodeGen config
├── CLAUDE.md               # AI assistant guide
└── README.md               # Project documentation
```

## 📋 Reproducible Workflow

### Step 1: Initial Setup (One Time)
```bash
# Clone AppMaker
git clone <appmaker-repo> ~/tools/appmaker

# Add to PATH
echo 'export PATH="$HOME/tools/appmaker:$PATH"' >> ~/.zshrc
source ~/.zshrc

# Verify installation
appmaker --help
```

### Step 2: Create New App
```bash
# Navigate to your projects directory
cd ~/projects

# Create new app
appmaker new CoolApp

# Enter the project
cd CoolApp

# Complete setup
make setup
```

### Step 3: Development Workflow
```bash
# Start development
make dev

# After making changes
make ci-quiet

# Run specific tasks
make test
make lint
make format
```

## 🎨 Customization Points

### 1. App Configuration
Edit `appmaker.config.yaml` before generation:
- Enable/disable features
- Choose architecture patterns
- Set platform targets
- Configure modules

### 2. Template Extensions
Add custom templates in `~/tools/appmaker/templates/`:
- Create new style templates
- Add domain-specific templates
- Override base templates

### 3. Post-Generation
After app creation:
- Modify `project.yml` for Xcode settings
- Customize `Makefile` for additional tasks
- Update `CLAUDE.md` with project-specific guidance

## 🔧 Advanced Features

### Feature Flags
```yaml
features:
  # Data
  swiftdata: true
  coredata: false
  cloudkit: true
  
  # UI
  widgets: true
  app_clips: false
  shortcuts: true
  
  # Services  
  ai_integration: true
  analytics: false
  push_notifications: true
  
  # Architecture
  reactive_system: true
  combine_framework: false
  
  # Testing
  ui_tests: true
  performance_tests: false
  
  # Tools
  swiftlint: true
  swiftformat: true
  danger: false
```

### Module Configuration
```yaml
modules:
  - name: MyAppKit
    submodules:
      - Foundation    # Always included
      - Store        # Data persistence
      - Services     # Business logic
      - Reactive     # UI bindings (optional)
      - Analytics    # Analytics (optional)
      - AI          # AI services (optional)
```

### Platform-Specific Settings
```yaml
platforms:
  - ios:
      min_version: "18.0"
      devices: ["iphone", "ipad"]
      orientations: ["portrait", "landscape"]
  - macos:
      min_version: "15.0"
      deployment_style: "standalone"  # or "app_store"
  - watchos:
      min_version: "11.0"
      standalone: false
  - tvos:
      min_version: "18.0"
```

## 🚦 Best Practices

### 1. Always Start with AppMaker
- Don't copy old projects
- Use AppMaker for consistency
- Update templates as you learn

### 2. Maintain Your Templates
- Keep templates updated with latest practices
- Version control your custom templates
- Share templates with team

### 3. Use the Full Workflow
- Always run `make ci-quiet` before commits
- Keep CLAUDE.md updated
- Write tests as you code

### 4. Leverage Automation
- Use pre-commit hooks
- Set up CI/CD immediately
- Automate repetitive tasks

## 🔄 Continuous Improvement

### Updating AppMaker
```bash
cd ~/tools/appmaker
git pull
make update-templates
```

### Contributing Templates
1. Create new template in `templates/`
2. Test with multiple projects
3. Document in template README
4. Submit pull request

### Learning from Projects
After each project:
1. Identify repeated patterns
2. Extract to templates
3. Update AppMaker
4. Share with team

## 📚 Context Integration

### Using with Claude/AI
1. Include CLAUDE.md in every project
2. Reference AppMaker patterns
3. Point to template files
4. Share configuration

### Team Onboarding
1. Install AppMaker
2. Review templates
3. Create practice app
4. Customize for team needs

## 🎯 Quick Reference Card

```bash
# New app with defaults
appmaker new MyApp

# iOS only with CloudKit
appmaker new MyApp --platforms=ios --features=cloudkit

# From custom config
appmaker new MyApp --config=custom.yaml

# List available templates
appmaker list-templates

# Validate configuration
appmaker validate

# After creation
cd MyApp
make setup
make dev
make ci-quiet  # Always before commit!
```

## 🏗 Example: Creating a Todo App

```bash
# Create the app
appmaker new TodoMaster --features=swiftdata,cloudkit,widgets

# Navigate and setup
cd TodoMaster
make setup

# Start development
make dev

# The generated app includes:
# - SwiftData models for todos
# - CloudKit sync setup
# - Widget extension ready
# - Full test suite
# - CI/CD pipeline
# - AI assistant documentation
```

## 🔮 Future Enhancements

1. **Web UI** for configuration
2. **Template marketplace**
3. **AI-powered customization**
4. **Team collaboration features**
5. **Analytics and metrics**
6. **Plugin system**
7. **Cross-platform support** (React Native, Flutter)

---

This system makes creating new iOS/macOS apps as simple as:
```bash
appmaker new AwesomeApp && cd AwesomeApp && make dev
```

Everything else is handled automatically! 🎉